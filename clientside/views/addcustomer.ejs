<% include header.ejs %>
<body>
    <center>
        <div class="col-md-4 col-sm-offset-4">

            <h4>Add customer details</h4>
            <form class="form-horizontal" method="POST" id="formadduser" action="">

                <div class="form-group">
                    <div class="col-sm-10">
                        <input type="text" class="form-control" id="firstname" name="firstname" placeholder="First Name" autofocus>
                    </div>
                </div>

                <div class="form-group">
                    <div class="col-sm-10">
                        <input type="text" class="form-control" id="lastname" name="lastname" placeholder="Last Name">
                    </div>
                </div>

                <div class="form-group">
                    <div class="col-sm-10">
                        <input type="email" class="form-control" id="email" name="email" placeholder="Email">
                    </div>
                </div>

                <div class="form-group">
                    <div class="col-sm-10">
                        <input type="password" class="form-control" id="password" name="password" placeholder="Password">
                    </div>
                </div>

                <div class="form-group">
                    <div class="col-sm-10">
                        <input type="password" class="form-control" id="cpassword" name="cpassword" placeholder="Confirm Password">
                    </div>
                </div>

                <!--<div class="form-group">
                  <div class="col-sm-offset-2 col-sm-10">
                    <div class="checkbox">
                      <label>
                        <!-- <input type="checkbox"> Remember me 
                      </label>
                    </div>
                  </div>
                </div>-->

                <input type="button" class="btn btn-info pull-left" id="update" value="Add Customer" onClick="adduser();">
                <a href="/customer/list" class="btn col-sm-offset-1">View Customers </a>


                <!--   <button type="button" class="btn col-sm-offset-1 button-img"><a href="/customer/list" data-toggle="tooltip" data-placement="bottom" title="View customers"> View Customer</a></button> -->
        </div>
        <!-- /.box-footer -->
        </form>
        </div>
        <!-- /.box -->
    

<script>

var test = {
    test_function: function() {
        console.log("Inserted successfully!");
        alert("Inserted successfully!");
        $('#firstname').focus();
        $('#formadduser')[0].reset();
        

    },
    test_function1: function() {
        // window.location
    }
};
var constantobj = new constant();
var ivObj = {
    test_function3: function() {
        alert("Error");
    }
}

function adduser() {

    var firstname = document.getElementById('firstname').value;
    var lastname = document.getElementById('lastname').value;
    var email = document.getElementById('email').value;
    var password = document.getElementById('password').value;

    var myData = {
        "firstname": firstname,
        "lastname": lastname,
        "email": email,
        "password": password
    };

    globalObj.custom_ajax({
        "dataType": "JSON",
        "type": "POST",
        "url": constantobj.host+"/api/customer/insert",
        // "url": "GetCommsDetails/213/" + ivObj.incident_id,
        "data": myData,
        // "customData": {},
        "success": { "test": "test_function" },
        "error": { "ivObj": "test_function3" }
    });
}

    // for tooltip
    $(function() {
        $('[data-toggle="tooltip"]').tooltip()
    })


</script>
</body>